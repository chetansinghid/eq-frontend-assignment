<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EQ API Visualization</title>
    <!-- Bootstrap dependancies -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./style.css">
    <!-- PlotlyJS dependency -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div class="container-fluid"> 
        <div class="row">
            <h1><a href="#" onclick=location.reload() id="header-link"> EQ API Data Visualization</a></h1>
        </div>
        <div class="row">
            <div class="col">
                <h3>View Data As</h3>
                <!-- <div role="tabpanel"> -->
                    <!-- List group -->
                    <div class="list-group list-group-flush" id="myList" role="tablist">
                      <a class="list-group-item list-group-item-action active" data-bs-toggle="list" href="#chart" role="tab">Chart</a>
                      <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#table" role="tab">Table</a>
                      <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#map" role="tab">Map</a>
                    </div>
            </div>
            <div class="col-10">
                <div class="row">
                    <div class="dropdown">
                        <a class="btn btn-warning dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                            Data Source
                        </a>

                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <li><a class="dropdown-item" href="#" onclick=setDataSource(0)>Hourly Events</a></li>
                        <li><a class="dropdown-item" href="#" onclick=setDataSource(1)>Daily Events</a></li>
                        <li><a class="dropdown-item" href="#" onclick=setDataSource(2)>Hourly Source</a></li>
                        <li><a class="dropdown-item" href="#" onclick=setDataSource(3)>Daily Source</a></li>
                        <li><a class="dropdown-item" href="#" onclick=setDataSource(4)>POI</a></li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div class="tab-content">
                        <div class="tab-pane active" id="chart" role="tabpanel">
                            Canvas
                            <canvas id="chart" width="500" height="500"></canvas>
                        </div>
                        <div class="tab-pane" id="table" role="tabpanel">
                            Table
                        </div>
                        <div class="tab-pane" id="map" role="tabpanel">
                            Map
                        </div>
                    </div>
                </div>
            </div>
          </div>  
    </div>
</body>
<script>
    // chart elements and plot functions
    function setDataSource(n) {
        let url;
        switch(n) {
            case 0: url = "https://proximal-ring-pipe.glitch.me/events/hourly";
            break;
            case 1: url = "https://proximal-ring-pipe.glitch.me/events/daily";
            break;
            case 2: url = "https://proximal-ring-pipe.glitch.me/stats/hourly";
            break;
            case 3: url = "https://proximal-ring-pipe.glitch.me/stats/daily";
            break;
            case 4: url = "https://proximal-ring-pipe.glitch.me/poi";
            break;
            default: break;
        }
        fetch(url)
        .then(data => {
            return data.json();
        })
        .then(data => {
            console.log(data);
            plotData(data)
        })
        .error(error => {
            console.log(error); 
        })
    }

    function plotData(data) {

    }
    
</script>
</html>